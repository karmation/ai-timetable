<!-- =============================================================== -->
<!-- Page 7: Student Records -->
<!-- This page allows teachers/admins to manage student data. -->
<!-- =============================================================== -->
<main id="students-page" class="page anim-page-content" data-collection="students">
    
    <!-- Section to add a new student -->
    <section class="card">
        <h2>Add New Student</h2>
        <p>Enter the details of a new student to add them to the records.</p>
        <form class="input-form">
            <div class="form-group">
                <label for="student-name">Student Name</label>
                <input type="text" id="student-name" name="name" required>
            </div>
            <div class="form-group">
                <label for="student-roll">Roll Number</label>
                <input type="text" id="student-roll" name="rollNumber" required>
            </div>
            <div class="form-group">
                <label for="student-program">Program</label>
                <input type="text" id="student-program" name="program" placeholder="e.g., FYUP B.Sc" required>
            </div>
            <button type="submit" class="btn-add">Add Student</button>
        </form>
    </section>

    <!-- Section to display existing students -->
    <section class="card">
        <h2>Student Records</h2>
        <p>This is a list of all students in the institution. Select a test to view specific marks or see the overall performance.</p>

        <!-- New: Test Selector Dropdown -->
        <div class="filter-container">
            <label for="test-selector">View Marks For:</label>
            <select id="test-selector">
                <option value="overall">Overall Performance</option>
                <option value="midterm1">Midterm Exam 1</option>
                <option value="final_project">Final Project</option>
                <option value="end_sem_exam">End Semester Exam</option>
            </select>
        </div>

        <div class="data-table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Roll Number</th>
                        <th>Program</th>
                        <th id="marks-column-header">Overall (%)</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="empty-row">
                        <td colspan="5">No student records found. Add a new student above.</td>
                    </tr>
                    <!-- Sample Row (will be replaced by real data) -->
                    <tr>
                        <td>John Doe</td>
                        <td>CB.SC.U4AYS23001</td>
                        <td>FYUP B.Sc</td>
                        <td>85%</td>
                        <td>
                            <button class="btn-view-marks">View Details</button>
                            <button class="btn-delete"><i class="fa-solid fa-trash-can"></i></button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>
</main>

<!-- New: Modal for Displaying Detailed Marks -->
<div id="marks-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <button class="modal-close-btn">&times;</button>
        <h3 id="modal-student-name"></h3>
        <div id="modal-marks-content">
            <!-- Detailed marks will be loaded here by JavaScript -->
        </div>
    </div>
</div>

